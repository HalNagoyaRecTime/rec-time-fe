# ログシステム使用ガイド
# 로그 시스템 사용 가이드

## 概要
## 개요

このプロジェクトには、テスト期間中のバグトラッキングとデバッグを目的とした包括的なログシステムが実装されています。
이 프로젝트에는 테스트 기간 중 버그 트래킹과 디버깅을 목적으로 한 포괄적인 로그 시스템이 구현되어 있습니다.

## 主な機能
## 주요 기능

### 1. デバッグモード判定
### 1. 디버그 모드 판정

- 開発環境 (`import.meta.env.DEV`) では自動的にデバッグモードが有効
- 環境変数 `VITE_DEBUG_MODE=true` でデバッグモードを強制有効化
- URLパラメータ `?debug=true` でデバッグモードを一時的に有効化
- 本番環境では自動的にログが無効化

- 개발 환경 (`import.meta.env.DEV`)에서는 자동으로 디버그 모드가 활성화
- 환경 변수 `VITE_DEBUG_MODE=true`로 디버그 모드를 강제 활성화
- URL 파라미터 `?debug=true`로 디버그 모드를 일시적으로 활성화
- 프로덕션 환경에서는 자동으로 로그가 비활성화

### 2. ログレベル
### 2. 로그 레벨

```typescript
enum LogLevel {
    DEBUG = 0,    // デバッグ情報
    INFO = 1,     // 一般的な情報
    WARN = 2,     // 警告
    ERROR = 3,    // エラー
    CRITICAL = 4, // 致命的なエラー
}
```

### 3. Git情報追跡
### 3. Git 정보 추적

- 最後のコミット情報（ハッシュ、メッセージ、作者、日時）
- ブランチ情報
- 最後のマージコミット情報（マージした人を特定）
- ビルド時刻とバージョン情報

- 마지막 커밋 정보 (해시, 메시지, 작성자, 일시)
- 브랜치 정보
- 마지막 머지 커밋 정보 (머지한 사람을 특정)
- 빌드 시각과 버전 정보

### 4. エラートラッキング
### 4. 에러 트래킹

- Reactコンポーネントエラー（ErrorBoundary）
- 未処理のPromise拒否
- 未処理のJavaScriptエラー
- APIエラー

- React 컴포넌트 에러 (ErrorBoundary)
- 미처리된 Promise 거부
- 미처리된 JavaScript 에러
- API 에러

### 5. APIログ
### 5. API 로그

- リクエスト情報（URL、メソッド、ヘッダー、ボディ）
- レスポンス情報（ステータス、レスポンス時間、ボディ）
- エラー情報（エラーメッセージ、スタックトレース）

- 리퀘스트 정보 (URL, 메서드, 헤더, 바디)
- 응답 정보 (상태, 응답 시간, 바디)
- 에러 정보 (에러 메시지, 스택 트레이스)

## 使用方法
## 사용 방법

### 基本的なログ出力
### 기본적인 로그 출력

```typescript
import { logger } from '~/utils/logger';

// デバッグログ
logger.debug('デバッグ情報', 'ComponentName', { data: 'example' });

// 情報ログ
logger.info('処理が完了しました', 'ApiService');

// 警告ログ
logger.warn('非推奨のAPIを使用しています', 'LegacyComponent');

// エラーログ
logger.error('API呼び出しに失敗しました', 'ApiService', { url: '/api/data' }, error);

// 致命的エラーログ
logger.critical('システムエラーが発生しました', 'System', null, error);
```

### デバッグログビューア
### 디버그 로그 뷰어

デバッグモードでは、ヘッダーに黄色いログボタンが表示されます。このボタンをクリックすると：

디버그 모드에서는 헤더에 노란색 로그 버튼이 표시됩니다. 이 버튼을 클릭하면:

- リアルタイムでログを確認
- ログレベルでフィルタリング
- キーワード検索
- ログのエクスポート（JSON形式）
- ログのクリア

- 실시간으로 로그를 확인
- 로그 레벨로 필터링
- 키워드 검색
- 로그의 익스포트 (JSON 형식)
- 로그의 클리어

### Git情報の確認
### Git 정보의 확인

```typescript
import { getGitInfo, logGitInfo } from '~/utils/gitInfo';

// Git情報を取得
const gitInfo = await getGitInfo();

// Git情報をログに出力
logGitInfo(gitInfo);
```

## ビルド時の設定
## 빌드 시의 설정

### Git情報の注入
### Git 정보의 주입

ビルド時に自動的にGit情報がHTMLに注入されます：
빌드 시 자동으로 Git 정보가 HTML에 주입됩니다:

```bash
npm run build  # ビルド + Git情報注入
npm run inject-git  # Git情報のみ注入
```

### 環境変数
### 환경 변수

```bash
# デバッグモードを強制有効化
VITE_DEBUG_MODE=true

# ビルドバージョンを指定
VITE_BUILD_VERSION=1.0.0
```

## ログの保存場所
## 로그의 저장 장소

### 開発環境
### 개발 환경

- **コンソール**: ブラウザの開発者ツール
- **ローカルストレージ**: `debug_logs` キー（最新100件）
- **デバッグログビューア**: リアルタイム表示

- **콘솔**: 브라우저의 개발자 도구
- **로컬 스토리지**: `debug_logs` 키 (최신 100건)
- **디버그 로그 뷰어**: 실시간 표시

### 本番環境
### 프로덕션 환경

- ログは自動的に無効化されます
- パフォーマンスへの影響はありません

- 로그는 자동으로 비활성화됩니다
- 성능에 대한 영향은 없습니다

## トラブルシューティング
## 트러블슈팅

### ログが表示されない場合
### 로그가 표시되지 않는 경우

1. デバッグモードが有効か確認
2. ブラウザのコンソールを確認
3. ローカルストレージの `debug_logs` を確認

1. 디버그 모드가 활성화되어 있는지 확인
2. 브라우저의 콘솔을 확인
3. 로컬 스토리지의 `debug_logs`를 확인

### Git情報が取得できない場合
### Git 정보가 획득되지 않는 경우

1. Gitリポジトリ内でビルドを実行しているか確認
2. `scripts/injectGitInfo.js` が正常に実行されているか確認
3. ビルド後のHTMLファイルに `window.__GIT_INFO__` が含まれているか確認

1. Git 리포지토리 내에서 빌드를 실행하고 있는지 확인
2. `scripts/injectGitInfo.js`가 정상적으로 실행되고 있는지 확인
3. 빌드 후 HTML 파일에 `window.__GIT_INFO__`가 포함되어 있는지 확인

## セキュリティ考慮事項
## 보안 고려사항

- 本番環境ではログが自動的に無効化されます
- 機密情報（パスワード、トークンなど）はログに含めないでください
- ログデータはローカルストレージに保存されるため、ユーザーがアクセス可能です

- 프로덕션 환경에서는 로그가 자동으로 비활성화됩니다
- 기밀 정보 (패스워드, 토큰 등)는 로그에 포함하지 마세요
- 로그 데이터는 로컬 스토리지에 저장되므로 사용자가 접근 가능합니다

## パフォーマンス
## 성능

- デバッグモードでは軽微なパフォーマンス影響があります
- 本番環境では影響はありません
- ログは非同期で処理されます

- 디버그 모드에서는 경미한 성능 영향이 있습니다
- 프로덕션 환경에서는 영향이 없습니다
- 로그는 비동기로 처리됩니다
